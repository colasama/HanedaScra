先创建爬虫项目 `scrapy startproject BdiaCrawler`

再进入爬虫项目创建爬虫 ` scrapy genspider BdiaSpider bdia.com.cn`

配置chromedriver，需要chrome_middleware.py和chromedriver.exe，下载方式和内容。

1. chrome_middleware.py如下，需要设置spider.name为你的spider名称，这里是BdiaSpider。
2. 15行设置为你的chromedriver所在绝对地址或者相对地址。

配置settings.py，

1. 为了反爬虫，所以加入了uagent.py，import uagent，添加USER_AGENT=XXX。

2. 通过设置 FEED_EXPORT_ENCODING 解决 unicode 中文写入json文件出现`\uXXXX`的问题。
3. DEFAULT_REQUEST_HEADERS 伪装Headers，反爬虫。
4. DOWNLOADER_MIDDLEWARES设置chrome_middleware.py中间件，

首先在items.py中加入

由于使用模拟浏览器，打开网页观察结构，再进入BdiaSpider.py文件构造xpath

查看更多 的处理，chrome_middleware构造xpath，模拟按键点击

保存到sqlite3，

![image-20220213122745176](D:\code\HanedaScra\BdiaCrawler\教程.assets\image-20220213122745176.png)

![image-20220213125524108](D:\code\HanedaScra\BdiaCrawler\教程.assets\image-20220213125524108.png)

![image-20220213125548879](D:\code\HanedaScra\BdiaCrawler\教程.assets\image-20220213125548879.png)



